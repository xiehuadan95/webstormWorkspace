<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>async And await</title>
</head>
<body>
<h1> Axios 简化</h1>
<!--导入axios标签-->
<script src="../js/axios.js"></script>
<script>
    /* 1.实现get请求获取数据 参数 id=1
                    方式1: url?id=1
                    方式2: url/1
                    方式3: url,{params....}
                 */
axios.get("http://localhost:8088/getUserById",{
    params:{
        id:23
    }
}).then(result=>{
    console.log(result.data)
})
//函数定义
    async function getUser(){
    //现在通过await可以直接获取返回值
        const result=await axios.get("http://localhost:8088/getUserById",{
            params:{
                id:23
            }
    })
        console.log(result)
        console.log(result.data)
    }
    getUser()
    //解构赋值操作 直接获取返回值结果
    async function getUser2(){
    const {data:result} = await axios.get("http://localhost:8088/getUserById",{
        params:{id:23}
    })
        console.log("解构赋值")
        console.log(result)
    }
    getUser2()
    //更加简洁
    async function aa(){
    const {data:result} =await axios.get("url")
        const {data:result2}=await axios.get("url2",result)
    }
    aa()

</script>
</body>
</html>