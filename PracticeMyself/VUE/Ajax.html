<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ajax练习</title>
    <script src="js/jquery-3.6.0.min.js"></script>
    <!--$.ajax相关说明
    1.{key:value}
   2.type: ajax请求的方式 get/post/put/delete
   3.简化$.get(..) $.post(...)  $.getJSON(...)
   4.url: 远程服务器地址
   5.JSONP: JS端解决跨域问题的一种机制. 现在几乎淘汰了
   6. cache: true 默认值为true 缓存
   7. async: true 默认异步!!!!
    -->

    <script>
    $.ajax({
        type:"get",
        url:"http://localhost:8088/getUser",
        //data:{key:value,key2:value2}
        dataType:"json",
        async:false, //异步改为同步
        cache:false, //不需要网页缓存
        success:function(result){
            console.log(result)
        },
        error:function (){
            alert("服务器正忙，请稍后！！")
        }
    })
/*
* 跨域问题：  如果URL地址与AJAX请求的路径违反了同源策略，则称为跨域请求
* 概念：要求请求的协议  +  域名 +端口号都相同
* http协议默认端口号为80  https协议 443
*同源策略案例：
* 案例练习1:
URL: http://www.jd.com/xxx/xxx
Ajax: https://www.jd.com/xxx/xxx/xxx 协议不同

案例练习2:
URL: http://www.jd.com:80/xxx/xxx 满足要求
Ajax: http://www.jd.com/xxx/xxx/xxx

案例练习3: IP与域名对应
URL: http://www.jd.com:80/xxx/xxx 不满足要求 域名不同   虽然最后访问结果一致
Ajax: http://10.0.0.6:80/xxx/xxx/xxx 其实这里有DNS进行了转换 所以本质上不是同源策略

案例练习4:
URL: http://www.jd.com/xxx/xxx 不满足要求 域名不同
Ajax: http://www.jt.com/xxx/xxx/xxx
* 解决方案
* 1.JSONP（旧）
* 2.CORS跨源资源共享，也叫 跨域资源共享
* 是一种基于HTTP 头的机制，该机制通过允许服务器标示除了它自己以外的其它origin（域，协议和端口），这样浏览器可以访问加载这些资源。跨源资源共享还通过一种机制来检查服务器是否会允许要发送的真实请求，该机制通过浏览器发起一个到服务器托管的跨源资源的"预检"请求。在预检中，浏览器发送的头中标示有HTTP方法和真实请求中会用到的头。
    核心：服务器再相应头中标识可以访问用户地址！！！

* */
    </script>
</head>
<!--
JSON（JavaScript Object Notation,JS对象简谱）是一种轻量级的数据交换格式
易于人阅读和编写，同时也易于机器解析和生成，并有效地提升网络传输效率。
1.对象格式    语法：{“id”:"100",“name”:"tomcat"} 对象是无序的
2.数组格式    语法：[1,2,3，“张三”，“李四”]   全是value
3.嵌套格式    语法：value 可以是双引号括起来的 字符串，数字，true,false,mull，Object，array.这些结构可以嵌套
["java编程","美团外卖",["吃","玩",{
	"id":100,
	"names": [
		{"name": "梅超风"},
		{"name": "梅超风老公"},
		["张无忌","赵敏"]
	]
}]]
-->
<body>

</body>
</html>